; ##############################################################################
;
; Project: ICECARINT V1.0
; File Name: icecarint.inc
; Processor: PIC16F914
; Frequency: 8 MHz
;
; ##############################################################################

; ------------------------------------------------------------------------------
; Variables declaration
; ------------------------------------------------------------------------------
DATA0           EQU H'0070'
DATA1           EQU H'0071'
DATA2           EQU H'0072'
DATA3           EQU H'0073'
DATA4           EQU H'0074'
DATA5           EQU H'0075'
DATA6           EQU H'0076'
DATA7           EQU H'0077'
DATAIND         EQU H'0078'
CMD0            EQU H'007A'
CMD1            EQU H'007B'
CMD2            EQU H'007C'
CMDIND          EQU H'007D'
TMPSTATUS       EQU H'007E'
TMPW            EQU H'007F'

; ------------------------------------------------------------------------------
; External functions declaration
; ------------------------------------------------------------------------------
; RS232 Module
extern  rs232_conf
extern  rs232_start
extern  rs232_rx_int
extern  rs232_tx_int
; PWM Module
extern  pwm_conf
extern  pwm_start
; LCD Module
extern  lcd_conf
extern  lcd_prepare
extern  lcd_write_msg1
extern  lcd_write_msg2

; ------------------------------------------------------------------------------
; Commands declaration
; ------------------------------------------------------------------------------
CMDUNKWN        EQU H'0000'
CMDECH          EQU H'0001'
CMDLCD          EQU H'0002'
CMDPWM          EQU H'0003'
CMDDIR          EQU H'0004'
CMDLIG          EQU H'0005'

; ------------------------------------------------------------------------------
; Boot message
; ------------------------------------------------------------------------------
boot_msg        org 0x2100
                de  "ICECAR10"
                de  "BOOTING*"
; ------------------------------------------------------------------------------
; Echo command
; ------------------------------------------------------------------------------
cmd_ech         de  "ECH", CMDECH
                de  "RESV"
err_ech         de  "ERR:ECHO"
; ------------------------------------------------------------------------------
; LCD command
; ------------------------------------------------------------------------------
cmd_lcd         de  "LCD", CMDLCD
                de  "RESV"
err_lcd         de  "ERR:LCD "
; ------------------------------------------------------------------------------
; PWM command
; ------------------------------------------------------------------------------
cmd_pwm         de  "PWM", CMDPWM
                de  "RESV"
err_pwm         de  "ERR:PWM "
; ------------------------------------------------------------------------------
; Direction command
; ------------------------------------------------------------------------------
cmd_dir         de  "DIR", CMDDIR
                de  "RESV"
err_dir         de  "ERR:DIR "
; ------------------------------------------------------------------------------
; Lights command
; ------------------------------------------------------------------------------
cmd_lig         de  "LIG", CMDLIG
                de  "RESV"
err_lig         de  "ERR:LIG "
; ------------------------------------------------------------------------------
                end